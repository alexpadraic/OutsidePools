<!DOCTYPE html>
<html lang="en">
  <head>
    <!--
    normalize.css removes cross-browser differences in defaults, e.g.,
    differences in how form elements appear between Firefox and IE
    See: http://necolas.github.com/normalize.css/
  -->
    <!-- <link rel="stylesheet" href="/css/normalize.css"> -->
    <!--
    application.css is where you put your styles
  -->
    <!-- <link rel="stylesheet" href="/css/application.css"> -->

    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script src="/js/application.js"></script>

    <title>Twotter</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="css/bootstrap.css">
    <link rel="stylesheet" type="text/css" href="css/normalize2.css"/>
    <link rel="stylesheet" type="text/css" href="css/demo.css"/>
    <link rel="stylesheet" type="text/css" href="css/component.css"/>
    <script src="js/modernizr.custom.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

  </head>
  <body>
    <div class="container">
      <nav class="navbar navbar-default">
        <div class="container-fluid">
          <div class="navbar-header">
            <a class="navbar-brand" href="#">
              <img alt="Brand" src="op.png" width="70px;">
            </a>
          </div>
        </div>
      </nav>
      <section>
        <form id="theForm" class="simform" autocomplete="off">
          <div class="simform-inner">
            <ol class="questions">
              <li>
                <span>
                  <label for="name">What's your name?</label>
                </span>
                <input id="name" name="q1" type="text"/>
              </li>
              <li>
                <span>
                  <label for="q2">Where will you be driving from?</label><br>
                </span>
                <input id="autocomplete" placeholder="" onFocus="geolocate()" type="text" class="form-control" name="location"></input>
              </li>
              <li>
                <span>
                  <label for="q3">What time do you got to work?</label>
                </span>
                <input id="q3" name="q3" type="text"/>
              </li>
              <li>
                <span>
                  <label for="q4">How do you like your veggies?</label>
                </span>
                <input id="q4" name="q4" type="text"/>
              </li>
              <li>
                <span>
                  <label for="q5">What book inspires you?</label>
                </span>
                <input id="q5" name="q5" type="text"/>
              </li>
              <li>
                <span>
                  <label for="q6">What's your profession?</label>
                </span>
                <input id="q6" name="q6" type="text"/>
              </li>
            </ol>
            <button class="submit" type="submit">Send answers</button>
            <!-- /questions -->
            <div class="controls">
              <button class="next"></button>
              <div class="progress"></div>
              <span class="number">
                <span class="number-current"></span>
                <span class="number-total"></span>
              </span>
              <span class="error-message"></span>
            </div>
            <!-- / controls -->
          </div>
          <!-- /simform-inner -->
          <span class="final-message"></span>
        </form>
        <!-- /simform -->
      </section>

    </div>
  </div>

  <script>
    // This example displays an address form, using the autocomplete feature of the Google Places API to help users fill in the information. This example requires the Places library. Include the libraries=places parameter when you first load the API. For
    // example: <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&libraries=places">

    var placeSearch,
      autocomplete;
    var componentForm = {
      street_number: 'short_name',
      route: 'long_name',
      locality: 'long_name',
      administrative_area_level_1: 'short_name',
      country: 'long_name',
      postal_code: 'short_name'
    };

    function initAutocomplete() {
      // Create the autocomplete object, restricting the search to geographical location types.
      autocomplete = new google.maps.places.Autocomplete(
      /** @type {!HTMLInputElement} */
      (document.getElementById('autocomplete')), {types: ['geocode']});

      // When the user selects an address from the dropdown, populate the address fields in the form.
      autocomplete.addListener('place_changed', fillInAddress);
    }

    function fillInAddress() {
      // Get the place details from the autocomplete object.
      var place = autocomplete.getPlace();

      for (var component in componentForm) {
        document.getElementById(component).value = '';
        document.getElementById(component).disabled = false;
      }

      // Get each component of the address from the place details and fill the corresponding field on the form.
      for (var i = 0; i < place.address_components.length; i++) {
        var addressType = place.address_components[i].types[0];
        if (componentForm[addressType]) {
          var val = place.address_components[i][componentForm[addressType]];
          document.getElementById(addressType).value = val;
        }
      }
    }

    // Bias the autocomplete object to the user's geographical location, as supplied by the browser's 'navigator.geolocation' object.
    function geolocate() {
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(function (position) {
          var geolocation = {
            lat: position.coords.latitude,
            lng: position.coords.longitude
          };
          var circle = new google.maps.Circle({center: geolocation, radius: position.coords.accuracy});
          autocomplete.setBounds(circle.getBounds());
        });
      }
    }
  </script>

  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyARLLyNtRr6ycOMJ41unTj-RYmYAAobfA4&libraries=places&callback=initAutocomplete" async defer></script>

  <script src="js/classie.js"></script>
  <script src="js/stepsForm.js"></script>
  <script>
    var theForm = document.getElementById('theForm');

    new stepsForm(theForm, {
      onSubmit: function (form) {
        // hide form
        classie.addClass(theForm.querySelector('.simform-inner'), 'hide');

        /*
					form.submit()
					or
					AJAX request (maybe show loading indicator while we don't have an answer..)
					*/

        // let's just simulate something...
        var messageEl = theForm.querySelector('.final-message');
        messageEl.innerHTML = 'Thank you! We\'ll be in touch.';
        classie.addClass(messageEl, 'show');
      }
    });
  </script>
</body>
</html>
